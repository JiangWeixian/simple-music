<template>
  <div class="singer-hotsongs">
    <div class="play-all" v-if="!isLoading">
      <i class="material-icons md-56">play_arrow</i>
      <p>播放全部</p>
    </div>
    <div class="play-all loading" v-else>
      <i></i>
      <p></p>
    </div>
    <div class="loaded" v-if="!isLoading">
      <music-collect-item
        v-for="item in sortedSongs"
        :key="item.id"
        :need-index="true"
        :need-mv="true"
        :mv="item.mv"
        :song="item.id"
        :index="item.index"
        :artists="item.ar"
        :album="item.al"
        :name="item.name">
      </music-collect-item>
    </div>
    <div class="loading" v-else>
      <loading-music-collect-item
        v-for="item in sortedSongs"
        :need-index="true">
      </loading-music-collect-item>
    </div>
  </div>
</template>

<script>
  import MusicCollectItem from "../base/CollectItem/MusicCollectItem"
  import LoadingMusicCollectItem from "../base/CollectItem/LoadingMusicCollectItem"

  export default {
    name: "SingerHotSongs",
    props: {
      songs: {
        type: Array,
        required: true
      },
      isLoading: {
        type: Boolean,
        default: true
      }
    },
    components: {
      MusicCollectItem,
      LoadingMusicCollectItem
    },
    computed: {
      sortedSongs() {
        return this.isLoading? [1,2,3,4,5] : this.songs.map((item, index) => {
          item.index = index + 1
          return item
        })
      }
    }
  }
</script>

<style rel="stylesheet/stylus" lang="stylus" type="text/stylus" scoped>
  @import "./SingerHotSongs.styl"
</style>
